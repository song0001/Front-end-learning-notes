<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
    <script>
        // 什么是闭包? 
        //     简单来说: 一个函数可以调用另一个函数的变量
        //     形成: 如果函数A返回了一个函数B, 在函数B内部调用了函数A中的变量m,如果A被执行完毕,
        //     由于A.m被B引用,导致m无法被垃圾回收机制回收,会常驻内存,这样就形成了闭包.
        // 作用: 减少命名空间污染;  延长变量的生命周期;
        // 副作用: 变量常驻内存,不知道何时销毁. 大量使用闭包,可能引起内存泄露(理论上).
        // 闭包写法 一般不推荐
        function A(){
            var m = 1;
            // 匿名函数B
            return function(){
                m++;
                return m;
            }
        }
        var step = A();  // step什么类型? 函数类型
        console.log(step()); // 2
        console.log(step()); // 3
    </script>
</body>
</html>